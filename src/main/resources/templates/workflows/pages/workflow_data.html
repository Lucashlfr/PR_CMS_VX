<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="de">
<head th:insert="~{fragments :: html_head}"></head>
<body class="nav-fixed">
<nav th:insert="~{fragments :: topnav}"></nav>
<div id="layoutSidenav">
    <div id="layoutSidenav_nav" th:insert="~{fragments :: sidebar}"></div>
    <div id="layoutSidenav_content">
        <main>
            <header class="page-header page-header-dark pb-15 bg-img-cover"
                    style="background-image: url('https://messdiener-knittelsheim.de/wp-content/uploads/2025/01/Handabdruck-scannen-scaled.jpg')">
                <div class="container-xl px-4">
                    <div class="page-header-content pt-4">
                        <h1 class="page-header-title mt-4"
                            th:text="'CMS Workflows'">
                        </h1>
                        <div class="page-header-subtitle">Bei Fragen wende dich gerne direkt an Lucas!
                        </div>
                    </div>
                </div>
            </header>
            <!-- Main page content-->
            <form class="needs-validation" novalidate th:action="@{/workflow/check/submit}" th:method="post">
                <input type="text" class="d-none" readonly name="id" th:value="${workflow.getWorkflowId()}"/>
                <!-- Main page content-->
                <div class="container-xl px-4 mt-n10" id="content">
                    <div class="card mb-3">
                        <div class="card-body p-5">
                            <div class="row align-items-center justify-content-between">
                                <div class="col">
                                    <h1 style="font-size: 35px" class="text-info">Datenabgleich</h1>
                                    <h4 class="lead mb-4">Bitte wende dich bei Fragen direkt an Lucas!</h4>
                                    <p>Liebe Messdienerinnen und Messdiener</p>
                                    <p>In diesem Formular überprüfen wir die aktualität unserer Daten. Solltet ihr z.B. keine Handynummer oder E-Mail-Adresse besitzen, gebt bitte unten bei Sonstiges die Nummern und Mail-Adresse eurer Eltern an.</p>

                                </div>
                                <div class="col-xl-3 d-none d-lg-block mt-xxl-n4 text-center"><img
                                        class="img-fluid px-xl-4 mt-xxl-n5" style="max-width: 400px!important;"
                                        th:src="@{/dist/assets/img/illustrations/Security-rafiki.svg}"/>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="card">
                        <div class="card-header" th:text="'Persönliche Daten von ' + ${user.getReadName()}"></div>
                        <div class="card-body">
                            <div class="row">
                                <div class="col-xl-6">
                                    <div class="form-floating mb-3">
                                        <input type="text" class="form-control" id="firstname" placeholder="Enter email" name="firstname"  required th:value="${user.getFirstname()}">
                                        <label for="firstname">Vorname</label>
                                    </div>
                                </div>
                                <div class="col-xl-6">
                                    <div class="form-floating mb-3">
                                        <input type="text" class="form-control" id="lastname" placeholder="Enter email" name="lastname"  required th:value="${user.getLastname()}">
                                        <label for="lastname">Nachname</label>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-xl-6">
                                    <div class="form-floating mb-3">
                                        <input type="text" class="form-control" id="phone" placeholder="Enter email" name="phone" th:value="${user.getPhone()}">
                                        <label for="phone">Telefon-Nr</label>
                                    </div>
                                </div>
                                <div class="col-xl-6">
                                    <div class="form-floating mb-3">
                                        <input type="text" class="form-control" id="mobile" placeholder="Enter email" name="mobile" th:value="${user.getMobile()}">
                                        <label for="mobile">Handynummer</label>
                                    </div>
                                </div>
                            </div>

                            <div class="form-floating mb-3">
                                <input type="text" class="form-control" id="mail" placeholder="Enter email" name="mail" th:value="${user.getEmail()}">
                                <label for="mail">E-Mail</label>
                            </div>

                            <div class="row">
                                <div class="col-xl-3">
                                    <div class="form-floating mb-3">
                                        <input type="text" class="form-control" id="street" placeholder="Enter email" name="street"  required th:value="${user.getStreet()}">
                                        <label for="street">Straße</label>
                                    </div>
                                </div>
                                <div class="col-xl-3">
                                    <div class="form-floating mb-3">
                                        <input type="text" class="form-control" id="number" placeholder="Enter email" name="number" required th:value="${user.getHouseNumber()}">
                                        <label for="number">Hausnummer</label>
                                    </div>
                                </div>
                                <div class="col-xl-3">
                                    <div class="form-floating mb-3">
                                        <input type="text" class="form-control" id="plz" placeholder="Enter email" name="plz" required th:value="${user.getPostalCode()}">
                                        <label for="plz">PLZ</label>
                                    </div>
                                </div>
                                <div class="col-xl-3">
                                    <div class="form-floating mb-3">
                                        <input type="text" class="form-control" id="city" placeholder="Enter email" name="town" required th:value="${user.getCity()}">
                                        <label for="city">Ort</label>
                                    </div>
                                </div>
                            </div>

                            <div class="form-floating mb-3" th:if="${user.getBirthdate().isPresent()}">
                                <input type="date" class="form-control" id="birthday" placeholder="Enter email" name="birthday" required th:value="${user.getBirthdate().get().getEnglishDate()}">
                                <label for="birthday">Geburtstag</label>
                            </div>
                            <div class="form-floating mb-3" th:if="${user.getBirthdate().isEmpty()}">
                                <input type="date" class="form-control" id="birthday2" placeholder="Enter email" name="birthday" required>
                                <label for="birthday2">Geburtstag</label>
                            </div>

                            <div class="form-floating">
                                <textarea class="form-control" id="comment" name="text" placeholder="Comment goes here"></textarea>
                                <label for="comment">Sonstiges</label>
                            </div>

                        </div>
                    </div>

                    <br>

                    <div class="d-grid">

                        <button class="btn btn-primary btn-block btn-xl" type="submit">Speichern</button>

                    </div>

                </div>
            </form>
        </main>
        <footer th:insert="~{fragments :: footer}"></footer>
    </div>
</div>
<div th:insert="~{fragments :: script}"></div>
<script>
    // Example starter JavaScript for disabling form submissions if there are invalid fields
    (function () {
        'use strict'

        // Fetch all the forms we want to apply custom Bootstrap validation styles to
        var forms = document.querySelectorAll('.needs-validation')

        // Loop over them and prevent submission
        Array.prototype.slice.call(forms)
            .forEach(function (form) {
                form.addEventListener('submit', function (event) {
                    if (!form.checkValidity()) {
                        event.preventDefault()
                        event.stopPropagation()
                    }

                    form.classList.add('was-validated')
                }, false)
            })
    })()
</script>
</body>
</html>
